# Disable directory listing
Options -Indexes

# Enable URL rewriting
RewriteEngine On

# -------------------------------------------------------------------
# 1️⃣ Serve existing files or directories normally
# -------------------------------------------------------------------
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# -------------------------------------------------------------------
# 2️⃣ Remove .php extension from URLs (e.g. /home → home.php)
# -------------------------------------------------------------------
# If the requested filename without extension exists as a .php file, serve it
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([^/]+)/?$ $1.php [L]

# Optional: redirect /something.php → /something (for SEO and clean URLs)
RewriteCond %{THE_REQUEST} \s/([^.]+)\.php
RewriteRule ^ %1 [R=301,L]

# -------------------------------------------------------------------
# 3️⃣ Handle all other requests as 404
# -------------------------------------------------------------------
RewriteRule ^.*$ 404.php [L]
